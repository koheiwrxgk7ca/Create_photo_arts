  <div class='row'>
    <div class='col-sm-10'>
      <h3>投稿詳細</h3>
    </div>
    <div class='col-md-1'>
      <!--新規投稿画面アイコン-->
      <%= link_to new_photo_path do %>
        <h4><i class="fas fa-plus-circle"></i></h4>
      <% end %>
    </div>
  </div>

  <!--ユーザー詳細画面へのリンク-->
  <p>投稿者
    <%= link_to(@photo.user) do %>
      <%= @photo.user.name %>
    <% end %>
  </p>

  <div class='row'>
    <!--写真の表示-->
    <div class='col-6'>
      <%= image_tag @photo.photo_image, size:"510x340" %>
    </div>

    <!--情報の表示-->
    <div class='col-xl-6'>
      <table>
        <!--情報の入力の有無による分岐-->
        <% if @photo.camera_name.present? %>
        <tr>
          <td style = "white-space: nowrap";>
            カメラ
          </td>
          <td style = "padding-left: 10px";>
            <%= @photo.camera_name %>
          </td>
        </tr>
        <% else %>
        <% end %>

        <tr>
          <td style = "white-space: nowrap";>
            焦点距離
          </td>
          <td style = "padding-left: 10px";>
            <%= @photo.focal_length %>mm
          </td>
        </tr>

        <tr>
          <td style = "white-space: nowrap";>
            F値
          </td>
          <td style = "padding-left: 10px";>
            <%= @photo.focal_number %>
          </td>
        </tr>


        <tr>
          <td style = "white-space: nowrap";>
            SS
          </td>
          <td style = "padding-left: 10px";>
            <%= @photo.shutter_speed %>s
          </td>
        </tr>

        <tr>
          <td style = "white-space: nowrap";>
            ISO感度
          </td>
          <td style = "padding-left: 10px";>
            <%= @photo.iso %>
          </td>
        </tr>

        <tr>
          <td style = "white-space: nowrap";>
            周辺機器
          </td>
          <td style = "padding-left: 10px";>
            <%= @photo.accessory %>
          </td>
        </tr>

        <tr>
          <td style = "white-space: nowrap";>
            編集
          </td>
          <td style = "padding-left: 10px";>
            <% if @photo.edit_pictuer == false %>
              なし
            <% else %>
              あり
            <% end %>
          </td>
        </tr>

        <!--県の表示-->
        <% if @photo.prefectures == "未選択" %>
        <% else %>
          <tr>
            <td style = "white-space: nowrap";>
              都道府県
            </td>
            <td style = "padding-left: 10px";>
              <%= @photo.prefectures %>
            </td>
          </tr>
        <% end %>

        <!--撮影場所の表示-->
        <% if @photo.region.present? %>
          <tr>
            <td style = "white-space: nowrap";>
              撮影場所
            </td>
            <td style = "padding-left: 10px";>
              <%= @photo.region %>
            </td>
          </tr>
        <% else %>
        <% end %>

        <!--コメントの表示-->
        <% if @photo.opinion.present? %>
          <tr>
            <td style = "white-space: nowrap";>
              Text
            </td>
            <td style = "padding-left: 10px";>
              <%= @photo.opinion %>
            </td>
          </tr>
        <% else %>
        <% end %>

        <!--タグの表示-->
        <% @photo.tag_relations.each do |tag_relation| %>
          <% if tag_relation.tag.tag_name.present? %>
            <tr>
              <td style = "white-space: nowrap";>
                タグ
              </td>
              <td style = "padding-left: 10px";>
                <%= tag_relation.tag.tag_name %>
              </td>
            </tr>
          <% else %>
          <% end %>
        <% end %>
      </table>

      <!--自分の投稿の場合編集と削除リンクを表示する-->
      <% if @photo.user == current_user %>
        <br>
        <%= link_to "Edit", edit_photo_path(@photo.id), class:"btn btn-sm btn-success" %>
        |
        <%= link_to "Destroy", photo_path(@photo), method: :delete, "data-confirm" => "really?", class:"btn btn-sm btn-danger" %>
      <% end %><br>

      <!--いいね機能及び、コメント数表示-->
      <% if @photo.favorited_by?(current_user) %>
        <%= link_to photo_favorites_path(@photo.id), method: :delete, remote: true do %>
          <i class="fas fa-heart" aria-hidden="true" style="color: red;"></i>
          <%= @photo.favorites.count %> 件
        <% end %>
      <% else %>
        <%= link_to photo_favorites_path(@photo.id), method: :post, remote: true  do %>
          <i class="fas fa-heart" aria-hidden="true"></i>
          <%= @photo.favorites.count %> 件
        <% end %>
      <% end %>
      コメント数：<%= @photo.comments.count %>
    </div>
  </div>

　<!--コメントの表示及び、削除-->
  <div id="comments-area">
    <table>
      <% @photo.comments.each do |comment| %>
        <tr>
          <td>
            <%= image_tag comment.user.get_profile_image, size: '50x50' %><br>
            <%=link_to user_path(comment.user.id) do %>
              <%= comment.user.name %>
            <% end %>
          </td>
          <td>
            <%= comment.photo_comment %>
          </td>
          <% if comment.user == current_user %>
          <td>
            <%= link_to "削除", photo_comment_path(comment.photo, comment), method: :delete,remote: true %>
          </td>
          <% end %>
        </tr>
      <% end %>
    </table>
  </div>

  <!--コメントのエラーメッセージ表示-->
  <% if @comment.errors.any? %>
  <%= @comment.errors.count %>件のエラー
  <ul>
    <% @comment.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
  </ul>
  <% end %>

  <!--コメント投稿フォーム-->
  <div class="form-group">
    <label for="newcomment">Comment</label>
    <%= form_with(model:[@photo_comment, @comment], url: photo_comments_path(@photo), local: true) do |f| %>
      <%= f.text_area :photo_comment, rows:'5',placeholder: "コメントをここに",class:"form-control" %>
      <%= f.submit "送信する" %>
    <% end %>
  </div>